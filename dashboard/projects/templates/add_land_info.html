{% extends 'index.html' %}
{% block content %}
{% load static %}
{% load widget_tweaks %}
{% include 'bootstrap.html' %}
<style>
    h6,input{
        margin-top: 15px;
        display: block;
    }
    a{
        color: black;
    }

    .divbox{
        box-shadow: 0px 0px 5px #007bff;
        border-radius: 1%;
    }

    .addproject{
        text-align: center;
        padding:15px 15px;
        font-size: 15px;
        font-weight: bold;
        background-color: #00c200;
        color: white;
    }
    
    .projectname{
        width: 100%;
        font-size: 15px;
        padding: 7px 0px;
        border: 1px solid lightgray;
        border-radius: 3%;
    }

    .plotsize{
        width: 100%;
        font-size: 15px;
        padding: 7px 0px;
        border: 1px solid lightgray;
        border-radius: 3%;
    }

</style>


<div class="divbox p-3 mt-2">
<h3 class="font-weight-bold mt-4 addproject">ADD LAND INFORMATION</h3>
<form method="POST">
{% csrf_token %}
<div class="grid pt-4 grid-cols-1 md:grid-cols-3 gap-5">
    <div>
        <label>Select Project</label><br>
        <select name="projectname" class="projectname mt-3" required>
        {% for project in projects %}
            <option disabled selected hidden>Click to Select Project</option>
            <option value="{{project.id}}">{{project.projectname}}</option>
        {% endfor %}
    </select>
    </div>
    <div>
        <label>Select Plot Size</label><br>
        <select name="plotsize" class="plotsize mt-3" required>
            {% for pltsize in pltsizes %}
                <option disabled selected hidden>Click to Select Plot Size</option>
                <option value="{{pltsize.id}}">{{pltsize.plotsize}}</option>
            {% endfor %}
        </select>
    </div>

    <div>
        <label>Per Square Feet Amount</label>
        <input type="number" name="persquarefeetamount" class="form-control" placeholder="Enter Per Square Feet Amount" required>
    </div>
</div>


<div class="grid pt-4 grid-cols-1 md:grid-cols-3 gap-5">
    <div>
        <label>Total Amount</label>
        <input type="number" name="totalamount" class="form-control" placeholder="Enter Total Amount" required>
    </div>

    <div>
        <label>Down Payment</label>
        <input type="number" name="downamount" id="result" class="form-control" placeholder="Enter Down Payment" required>
    </div>
    <div>
        <label>Select to Installment</label>
        <select class="form-control" id="inputfield">
            <option>--select option--</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select>
    </div>
    <div id="mytable" style="display: none;">
        <label>First Installment</label>
        <input type="number" name="firstinstallment" class="form-control" placeholder="Enter First Installment" required>
    </div>
    <div id="project" style="display:none;">
        <label>Second Installment</label>
        <input type="text" name="secondinstallment" class="form-control" placeholder="Enter Second Installment" required>
    </div>
    <div id="table3" style="display:none;" >
        <label>Thrid Installment</label>
        <input type="text" name="secondinstallment" class="form-control" placeholder="Enter Second Installment" required>
    </div>
    <div id="table4" style="display:none;">
        <label>Fourth Installment</label>
        <input type="text" name="secondinstallment" class="form-control" placeholder="Enter Second Installment" required>
    </div>
    <div id="table5" style="display:none;">
        <label >Fifth Installment</label>
        <input type="text" name="secondinstallment" class="form-control" placeholder="Enter Second Installment" required>
    </div>

</div>
</div>
    
    <div class="text-center">
        <input type="submit" value="Add Land Information" class="btn btn-primary mt-5">
        <input type="reset" value="Clear" class="btn btn-danger mt-5">
    </div>


</form>
<script>
    const inputField = document.getElementById('inputfield');
    const myTable = document.getElementById('mytable');
    const Project = document.getElementById('project');
    const Table3 = document.getElementById('table3');
    const Table4 = document.getElementById('table4');
    const Table5 = document.getElementById('table5');

    inputField.addEventListener('input', function () {
        if (inputField.value === '1') {
            myTable.style.display = 'table';// Show the table
            Project.style.display = 'none';
            Table3.style.display = 'none';
            Table4.style.display = 'none';
            Table5.style.display = 'none';
        } else if (inputField.value === '2') {
            myTable.style.display = 'table';// Show the table
            Project.style.display = 'table';
            Table3.style.display = 'none';
            Table4.style.display = 'none';
            Table5.style.display = 'none';
        } else if (inputField.value === '3') {
            myTable.style.display = 'table';// Show the table
            Project.style.display = 'table';
            Table3.style.display = 'table';
            Table4.style.display = 'none';
            Table5.style.display = 'none';
        } else if(inputField.value ==='4'){
            myTable.style.display = 'table';// Show the table
            Project.style.display = 'table';
            Table3.style.display = 'table';
            Table4.style.display = 'table';
            Table5.style.display = 'none';
        } else if(inputField.value ==='5'){
            myTable.style.display = 'table';
            Project.style.display = 'table';
            Table3.style.display = 'table';
            Table4.style.display = 'table';
            Table5.style.display = 'table';
        }
        else {
            myTable.style.display = 'none';
            Project.style.display = 'none';
            Table3.style.display = 'none';
            Table4.style.display = 'none';
            Table5.style.display = 'none';
        }
    });
    document.addEventListener('DOMContentLoaded', function() {
        // Get the input and result elements
        const inputValue = document.getElementById('input-value');
        const resultElement = document.getElementById('result');
    
        // Add an event listener for input changes
        inputValue.addEventListener('input', function() {
            // Get the input value from the input field
            const input = inputValue.value;
    
            // Split the input value at 'X'
            const numbers = input.split('X');
    
            if (numbers.length !== 2) {
                resultElement.textContent = "Invalid input format. Please use 'numberXnumber' format.";
                return;
            }
    
            // Convert the numbers to integers
            const num1 = parseInt(numbers[0]);
            const num2 = parseInt(numbers[1]);
    
            if (isNaN(num1) || isNaN(num2)) {
                resultElement.textContent = "Invalid input. Please provide valid integers.";
                return;
            }
    
            // Perform the multiplication
            const result = num1 * num2;
    
            // Display the result
            resultElement.textContent = `The result of ${num1} * ${num2} is ${result}`;
        });
    });
</script>
{% endblock %}