{% extends 'index.html' %}

{% block content %}
<style>
    h1 {
        font: 20px
    }
    .plotsize{
        width: 50%;
        font-size: 15px;
        padding: 7px 0px;
        border: 1px solid lightgray;
        border-radius: 0%;
    }
    .pagination {
  display: inline-block;
}

.pagination a {
  color: black;
  float: left;
  padding: 8px 16px;
  text-decoration: none;
}

.pagination a.active {
  background-color: #4CAF50;
  color: white;
  border-radius: 5px;
}

.pagination a:hover:not(.active) {
  background-color: #ddd;
  border-radius: 5px;
}
</style>

<div  class="panel">
    <h2 class="text-lg font-semibold dark:text-white-light p-1" 
    style="background-color: rgb(188, 188, 224); border-radius: 9px;">
    <b>Active Members</b></h2>
    <label class="p-2" for="browser">Choose your browser from the list:</label>
    <select class="plotsize p-1" id="inputfield">
        <option>--Select Option--</option>
        <option value="Project Wise">Bookings Details</option>
        <option value="Year Wise">Personal Details</option>
    </select>

   <!-- #<div class="table-responsive" id="mytable" style="display: none;margin-left:auto;margin-right:auto;"></div> -->
    <div class="table-responsive pt-3" id="mytable" style="display: show;"> 
        <h2 class="text-lg font-semibold dark:text-white-light p-1" 
        style="background-color: rgb(188, 224, 198); border-radius: 9px; text-align: center;">
        <b>Booking Details</b></h2>
        <div class=" p-2">
            <table  class="emInfo">
                <thead>
                    <tr>
                        <th>S.NO</th>
                        <th>Customer Name</th>
                        <th>Seniority</th>
                        <th>Date of Booking</th>
                        <th>Am No</th>
                        <th>Moblie No</th>
                        <th>Email id</th>
                        <th>Executive</th>
                        <th>Active</th>
                        <th>Dimensive</th>
                        <th>Amount Paid</th>
                        <th>Balance Amount</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
          
                  {% for mydata in user %}
                    <tr>
                        <td>{{mydata.id}}</td>
                        <td>{{mydata.first_name}}</td>
                        {% for value in userdet %}
                            <td>{{value.seniorityno_id}}</td>
                            <td>{{value.dateofbooking}}</td>
                            <td>{{value.amount}}</td>
                        {%endfor%}
                        <td>{{mydata.mobile_no}}</td>
                        <td>{{mydata.email}}</td>
                        <td></td>
                        <td>{{mydata.active}}</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td align="center">
                            <a href="update_data/{{mydata.id}}" class="btn btn-outline-success btn-sm">Update</a>
                            <a href="" onclick="confirmDelete()" class="btn btn-outline-danger btn-sm">Delete</a>
                          </td>
                    </tr>
                    <script>
                        function confirmDelete() {
                          if (confirm("Are you sure you want to delete this item?")) {
                            // If the user confirms, redirect to the delete URL
                            window.location.href = "delete_data/{{mydata.id}}";
                          }
                        }
                      </script>
                  {%endfor%}
                </tbody>
            </table>
        </div>
    </div>
    <!--year Wise-->
    <div class="table-responsive pt-3" id="project" style="display: none;">
        <h2 class="text-lg font-semibold dark:text-white-light p-1" 
        style="background-color: rgb(188, 224, 198); border-radius: 9px; text-align: center;">
        <b>Personal Details</b></h2>
        <div class=" table-responsive pt-3">
            <table class="pt-3">
                <thead>
                    <tr>
                        <th>S.NO</th>
                        <th>Customer Name</th>
                        <th>Seniority</th>
                        <th>Father/Husband Name</th>
                        <th>Date of Birth</th>
                        <th>Pan No</th>
                        <th>Aadhaar No</th>
                        <th>Nominee Name</th>
                        <th>Nominee Age</th>
                        <th>Nomiee Relationship</th>
                        <th>Nomiee Address</th>
                        <th>Family Member Name</th>
                        <th>Family Memeber Age</th>
                        <th>Family Member Relationship</th>
                        <th>Passport Size Photograp</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
              
                    {% for mydata in user %}
                      <tr>
                          <td>{{mydata.id}}</td>
                          <td>{{mydata.first_name}}</td>
                          {% for value in userdet %}
                              <td>{{value.seniorityno_id}}</td>
                              <td>{{value.dateofbooking}}</td>
                              <td>{{value.amount}}</td>
                          {%endfor%}
                          <td>{{mydata.mobile_no}}</td>
                          <td>{{mydata.email}}</td>
                          <td></td>
                          <td>{{mydata.active}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td align="center">
                              <a href="update_data/{{mydata.id}}" class="btn btn-outline-success btn-sm">Update</a>
                              <a href="" onclick="confirmDelete()" class="btn btn-outline-danger btn-sm">Delete</a>
                            </td>
                      </tr>
                      <script>
                          function confirmDelete() {
                            if (confirm("Are you sure you want to delete this item?")) {
                              // If the user confirms, redirect to the delete URL
                              window.location.href = "delete_data/{{mydata.id}}";
                            }
                          }
                        </script>
                    {%endfor%}
                  </tbody>
            </table>
        </div>
    </div>
</div>
<script>

    const inputField = document.getElementById('inputfield');
    const myTable = document.getElementById('mytable');
    const Project = document.getElementById('project');


    inputField.addEventListener('input', function () {
        if (inputField.value === 'Project Wise') {
            myTable.style.display = 'table';// Show the table
            Project.style.display = 'none';
            Team.style.display = 'none';
        } else if (inputField.value === 'Year Wise') {
            myTable.style.display = 'none';// Show the table
            Project.style.display = 'table';
            Team.style.display = 'none';
        } else {
            myTable.style.display = 'none';
            Project.style.display = 'none';
            Team.style.display = 'none'; // Hide the table
        }
    });
</script>
{% endblock %}