{% extends 'index.html' %}
{% block content %}
{% load static %}
{% include 'bootstrap.html' %}

<style>
    a{
        color:black;
    }
</style>
<div class="container">
    <h6></h6>
    <div class="table-responsive pt-3" id="mytable" style="display: show;"> 
        <h2 class="text-lg font-semibold dark:text-white-light p-1" 
        style="background-color: rgb(188, 224, 198); border-radius: 9px; text-align: center;">
        <b>Site Booking Confirmation</b></h2>
        <div class=" p-2">
            <table  class="emInfo">
                <thead>
                    <tr>
                        <th>S.NO</th>
                        <th>Customer Name</th>
                        <th>Seniority</th>
                        <th>Project Name/size</th>
                        <th>Price</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>  
                        {% for data in user%}
                        <tr>
                            <td>{{data.id}}</td>
                            <td>{{data.user.first_name}}</td>
                            <td>{{data.seniority_id}}</td>
                            <td>{{data.land_details.project.projectname}}</td>
                            <td>{{data.land_details.total_amount}}</td>
                            <td>
                                {% if data.status == 1 %}
                                Active
                                {% else %}
                                Inactive
                                {% endif %}
                            </td>
                            <td>
                                <center>
                                    <a href="/reports/confirmletter_view/{{data.id}}">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="1.25em" viewBox="0 0 384 512">
                                            <path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24H264c13.3 0 24-10.7 24-24s-10.7-24-24-24H120z"/>
                                        </svg>
                                    </a>
                                </center>
                              </td>
                        </tr>
                        {% endfor%}
                   
                
                </tbody>
            </table>
        </div>
        <div style="text-align: right;">
            <div class="inline-flex items-center space-x-1 rtl:space-x-reverse m-auto mb-4">
                <button id="prevPage" type="button" class="flex justify-center font-semibold px-3.5 py-2 rounded transition bg-white-light text-dark hover:text-white hover:bg-success dark:text-white-light dark:bg-[#191e3a] dark:hover:bg-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 256 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"/></svg>
                </button>
                <span id="currentPage" class="flex justify-center font-semibold px-3.5 py-2 rounded transition bg-white-light text-dark hover:text-white hover:bg-success  dark:text-white-light dark:bg-[#191e3a] dark:hover:bg-primary">1</span>
                <button id="nextPage" type="button" class="flex justify-center font-semibold px-3.5 py-2 rounded transition bg-white-light text-dark hover:text-white hover:bg-success dark:text-white-light dark:bg-[#191e3a] dark:hover:bg-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 256 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"/></svg>
                </button>
            </div>
           </div>
    </div>
</div>
<script>
    // Initialize variables
    var currentPage = 1;
    var rowsPerPage = 5; // Number of rows per page

    // Function to show/hide rows based on the current page
    function updateTable() {
        var tableRows = document.querySelectorAll(".emInfo tbody tr");
        var start = (currentPage - 1) * rowsPerPage;
        var end = start + rowsPerPage;

        for (var i = 0; i < tableRows.length; i++) {
            if (i >= start && i < end) {
                tableRows[i].style.display = "table-row";
            } else {
                tableRows[i].style.display = "none";
            }
        }

        // Update the "Page X" indicator
        document.getElementById("currentPage").textContent =  currentPage;
    }

    // Handle the "Next" button click
    document.getElementById("nextPage").addEventListener("click", function () {
        var tableRows = document.querySelectorAll(".emInfo tbody tr");
        var maxPage = Math.ceil(tableRows.length / rowsPerPage);
        if (currentPage < maxPage) {
            currentPage++;
            updateTable();
        }
    });

    // Handle the "Previous" button click
    document.getElementById("prevPage").addEventListener("click", function () {
        if (currentPage > 1) {
            currentPage--;
            updateTable();
        }
    });

    // Initial table update
    updateTable();
</script>
{% endblock %}